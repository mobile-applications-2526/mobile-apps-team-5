<div class="swipe-container" *ngIf="events.length > 0">
  
  <div 
    class="card"
    *ngFor="let item of events; let i = index"
    [ngStyle]="getCardStyle(i)"
    #topCard
    (pointerdown)="i === 0 ? onPointerDown($event) : null"
    (pointermove)="i === 0 ? onPointerMove($event) : null"
    (pointerup)="i === 0 ? onPointerUp($event) : null"
    (pointercancel)="i === 0 ? onPointerUp($event) : null">

    <div class="card-image" 
         [style.backgroundImage]="'url(' + (item.image_url || 'https://ionicframework.com/docs/img/demos/card-media.png') + ')'">
    </div>

    

    <div class="card-content">
      <h2>{{ item.name }}</h2>

      <p class="description">
        {{ item.description || 'Join us for an amazing time!' }}
      </p>
      <p class="description">
        <strong>When:</strong> {{ item.activity_date | date: 'medium' }}
      </p>
      <p class="description">
        <strong>Where:</strong> {{ item.location}}
      </p>

      <div class="image-tags">
        <span class="tag blue">{{item.interest?.name}}</span>
      </div>
    </div>
  
    <div class="overlay-nope" [style.opacity]="i === 0 && translateX < 0 ? indicatorOpacity : 0">
      NOPE
    </div>
    <div class="overlay-like" [style.opacity]="i === 0 && translateX > 0 ? indicatorOpacity : 0">
      LIKE
    </div>

  </div>
</div>

<div class="actions" *ngIf="events.length > 0">
  <button class="circle-btn dislike" (click)="onDislike()">
    <ion-icon name="close"></ion-icon>
  </button>

  <button class="circle-btn like" (click)="onLike()">
    <ion-icon name="heart"></ion-icon>
  </button>
</div>

<div *ngIf="events.length === 0" class="empty-state">
  <h3>No more activities!</h3>
  <p>Check back later.</p>
</div>